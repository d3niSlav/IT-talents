<!--
    Задача 10:
    Да се състави програма, чрез която се въвеждат 7 цели числа в
    едномерен масив.
    Програмата да изведе числото, което е най-близко до средната
    стойност на въведените числа.
    Пример: 1,2,3,4,5,6,7
    Изход: средна стойност 4, най-близка стойност 4
-->

<script>
    var inputRegex = new RegExp(/^(-?\d+)(\s*,\s*-?\d+){6}/);
    var result = "";

    do {
        var inputString = String(prompt("Enter exactly SEVEN numbers for an array:\nExample: 1,2,3,4,5,6,7"));
    } while (!inputRegex.test(inputString));

    var arrayData = inputString.split(",");
    var array = new Array(arrayData.length);
    for (var index = 0; index < arrayData.length; index++) {
        array[index] = parseInt(arrayData[index]);
    }

    var sum = 0;
    var average;

    for (var index = 0; index < array.length; index++) {
        sum += array[index];
    }
    average = sum / array.length;

    var minimumClosestNumber = array[array.length - 1];
    array.sort();
    for(var index = 0; index < array.length - 1; index++){
        if(array[index] <= average) {
            if(average - array[index] > array[index + 1] - average){
                minimumClosestNumber = array[index + 1];
            } else {
                minimumClosestNumber = array[index];
            }            
        }
    }
    
    result += "Average = " + average;
    result += "\nMinimum closest number to the average = " + minimumClosestNumber;

    alert(result);
</script>